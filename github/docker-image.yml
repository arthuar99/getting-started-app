name: Docker Image CI
on:
   push:
    branches:
  - main
pull_request:
    branches:
    - main

jops:
 build:
 runs-on: ubuntu-latest

 steps:
  -name: Checkout code
    uses: actions/Checkout@v2

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-actions@v2


    - name: login to GitHub Container Registry
      uses: docker/login-action@v2
      with:
        registry: ghcr.io
        username: ${{ github.actor }}
        password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v3
        with:
          context: .
          push: true
          tags: 
               ghcr.io/${{ github.repository_owner }}/getting-started:latest
                ghcr.io/${{ github.repository_owner }}/getting-started:${{ github.sha }}
         